<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>abstract_interpretation</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
  </style>
  <style>
    html {
      font-size: 100%;
      overflow-y: scroll;
      -webkit-text-size-adjust: 100%;
      -ms-text-size-adjust: 100%;
    }
    body {
      color: #444;
      font-family: Georgia, Palatino, "Palatino Linotype", Times,
        "Times New Roman", serif;
      font-size: 12px;
      line-height: 1.7;
      padding: 1em;
      margin: auto;
      max-width: 42em;
      background: #fefefe;
    }
    a {
      color: #0645ad;
      text-decoration: none;
    }
    a:visited {
      color: #0b0080;
    }
    a:hover {
      color: #06e;
    }
    a:active {
      color: #faa700;
    }
    a:focus {
      outline: thin dotted;
    }
    ::-moz-selection {
      background: rgba(255, 255, 0, 0.3);
      color: #000;
    }
    ::selection {
      background: rgba(255, 255, 0, 0.3);
      color: #000;
    }
    a::-moz-selection {
      background: rgba(255, 255, 0, 0.3);
      color: #0645ad;
    }
    a::selection {
      background: rgba(255, 255, 0, 0.3);
      color: #0645ad;
    }
    p {
      margin: 1em 0;
    }
    img {
      max-width: 100%;
    }
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      color: #111;
      line-height: 125%;
      margin-top: 2em;
      font-weight: 400;
    }
    h4,
    h5,
    h6 {
      font-weight: 700;
    }
    h1 {
      font-size: 2.5em;
    }
    h2 {
      font-size: 2em;
    }
    h3 {
      font-size: 1.5em;
    }
    h4 {
      font-size: 1.2em;
    }
    h5 {
      font-size: 1em;
    }
    h6 {
      font-size: 0.9em;
    }
    blockquote {
      color: #666;
      margin: 0;
      padding-left: 3em;
      border-left: 0.5em #eee solid;
    }
    hr {
      display: block;
      height: 2px;
      border: 0;
      border-top: 1px solid #aaa;
      border-bottom: 1px solid #eee;
      margin: 1em 0;
      padding: 0;
    }
    code,
    kbd,
    pre,
    samp {
      color: #000;
      font-family: monospace, monospace;
      font-size: 0.98em;
    }
    pre {
      white-space: pre;
      white-space: pre-wrap;
      word-wrap: break-word;
    }
    b,
    strong {
      font-weight: 700;
    }
    dfn {
      font-style: italic;
    }
    ins {
      background: #ff9;
      color: #000;
      text-decoration: none;
    }
    mark {
      background: #ff0;
      color: #000;
      font-style: italic;
      font-weight: 700;
    }
    sub,
    sup {
      font-size: 75%;
      line-height: 0;
      position: relative;
      vertical-align: baseline;
    }
    sup {
      top: -0.5em;
    }
    sub {
      bottom: -0.25em;
    }
    ol,
    ul {
      margin: 1em 0;
      padding: 0 0 0 2em;
    }
    li p:last-child {
      margin-bottom: 0;
    }
    ol ol,
    ul ul {
      margin: 0.3em 0;
    }
    dl {
      margin-bottom: 1em;
    }
    dt {
      font-weight: 700;
      margin-bottom: 0.8em;
    }
    dd {
      margin: 0 0 0.8em 2em;
    }
    dd:last-child {
      margin-bottom: 0;
    }
    img {
      border: 0;
      -ms-interpolation-mode: bicubic;
      vertical-align: middle;
    }
    figure {
      display: block;
      text-align: center;
      margin: 1em 0;
    }
    figure img {
      border: none;
      margin: 0 auto;
    }
    figcaption {
      font-size: 0.8em;
      font-style: italic;
      margin: 0 0 0.8em;
    }
    table {
      margin-bottom: 2em;
      border-bottom: 1px solid #ddd;
      border-right: 1px solid #ddd;
      border-spacing: 0;
      border-collapse: collapse;
    }
    table th {
      padding: 0.2em 1em;
      background-color: #eee;
      border-top: 1px solid #ddd;
      border-left: 1px solid #ddd;
    }
    table td {
      padding: 0.2em 1em;
      border-top: 1px solid #ddd;
      border-left: 1px solid #ddd;
      vertical-align: top;
    }
    .author {
      font-size: 1.2em;
      text-align: center;
    }
    @media only screen and (min-width: 480px) {
      body {
        font-size: 14px;
      }
    }
    @media only screen and (min-width: 768px) {
      body {
        font-size: 16px;
      }
    }
    @media print {
      * {
        background: 0 0 !important;
        color: #000 !important;
        filter: none !important;
        -ms-filter: none !important;
      }
      body {
        font-size: 12pt;
        max-width: 100%;
      }
      a,
      a:visited {
        text-decoration: underline;
      }
      hr {
        height: 1px;
        border: 0;
        border-bottom: 1px solid #000;
      }
      a[href]:after {
        content: " (" attr(href) ")";
      }
      abbr[title]:after {
        content: " (" attr(title) ")";
      }
      .ir a:after,
      a[href^="#"]:after,
      a[href^="javascript:"]:after {
        content: "";
      }
      blockquote,
      pre {
        border: 1px solid #999;
        padding-right: 1em;
        page-break-inside: avoid;
      }
      img,
      tr {
        page-break-inside: avoid;
      }
      img {
        max-width: 100% !important;
      }
      @page :left {
        margin: 15mm 20mm 15mm 10mm;
      }
      @page :right {
        margin: 15mm 10mm 15mm 20mm;
      }
      h2,
      h3,
      p {
        orphans: 3;
        widows: 3;
      }
      h2,
      h3 {
        page-break-after: avoid;
      }
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/darkreader@4.7.15/darkreader.min.js"></script>
  <script>
    DarkReader.enable({
      brightness: 100,
      contrast: 90,
      sepia: 10
    });
  </script>
  <link
    rel="icon"
    type="image/png"
    href="https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTJg97A-Sa8mxjkRCmjR51WjHATLvq2aF89Z1CprR2WcQ60qYZC"
  />
  <meta name="theme-color" content="#252525" />
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 data-number="1" id="abstract-interpretation"><span
class="header-section-number">1</span> abstract interpretation</h1>
<p>Abstract domains which approximate concrete domains of programs.
Abstract interpretation is used for constructing induction invariants.
Programs are seen as control flow graphs (CFG) where possible values are
represented as ranges.</p>
<p>Transfer function <span class="math inline">T(S, c) = sp(S,
\rho(c))</span>. We denote <span class="math inline">T(S, skip) =
S</span> for an edge with no label.</p>
<ul>
<li><span class="math inline">[a, b] \sqcup [c, d] = [\min(a, c),
\max(b, d)]</span></li>
</ul>
<p>Interpreting the CFG and updating edges with the approximating
transfer function we get a program annotated in a fashion where all
Hoare triples hold.</p>
<h2 data-number="1.1" id="lattices"><span
class="header-section-number">1.1</span> lattices</h2>
<p>A lattice is a poset where every pair of elements have a unique
supremum and infimum. Total order sets are lattices.</p>
<h3 data-number="1.1.1" id="least-upper-bound-supremum"><span
class="header-section-number">1.1.1</span> least upper bound
(supremum)</h3>
<p>For a poset <span class="math inline">(A, \le)</span> the supremum of
<span class="math inline">S \subseteq A</span> is an element <span
class="math inline">M \in A</span> that is the least element of the set
<span class="math inline">\{x | x \text{ is upper bound on } S\}</span>.
We denote a binary operation by <span class="math inline">a_1 \sqcup a_2
= \inf\{a_1, a_2\}</span>. It is associative, commutative, and
idempotent.</p>
<p>Similarly <span class="math inline">a_1 \sqcap a_2 = \sup\{a_1,
a_2\}</span> is the greatest lower bound (infimum).</p>
<h3 data-number="1.1.2" id="partial-orders-using-maps"><span
class="header-section-number">1.1.2</span> partial orders using
maps</h3>
<p>Let <span class="math inline">A</span> be a set of propositional
formulas containing only variables <span class="math inline">p</span>
and <span class="math inline">q</span>. For <span class="math inline">F
\in A</span> we define</p>
<p><span class="math display">
[F] = \{(u, v) \in \{0, 1\}^2: F[p := u, q := v]\}
</span></p>
<p>so it is the set of assignments that makes <span
class="math inline">F</span> true. Then we can say <span
class="math inline">F \le G \iff [F] \subseteq [G]</span> to form a
poset.</p>
<p>Let <span class="math inline">(C, \le)</span> be a lattice. Let <span
class="math inline">\gamma: A \to C</span> be the injective
concretization function. Let <span class="math inline">a \sqsubseteq
b</span> on A be defined as <span class="math inline">\gamma(a) \le
\gamma(b)</span>. Then <span class="math inline">(A, \sqsubseteq)</span>
is a partial order.</p>
<h3 data-number="1.1.3" id="complete-lattice"><span
class="header-section-number">1.1.3</span> complete lattice</h3>
<p>A complete lattice is a lattice where every set (including empty and
infinite sets) has supremum and infimum.</p>
<h2 data-number="1.2" id="monotonic-function"><span
class="header-section-number">1.2</span> monotonic function</h2>
<p>A function <span class="math inline">\alpha : C \to A</span> is
monotonic when <span class="math inline">x \le y \implies \alpha(x)
\sqsubseteq \alpha(y)</span> for <span class="math inline">x, y \in
C</span>.</p>
<h2 data-number="1.3" id="fixed-point"><span
class="header-section-number">1.3</span> fixed point</h2>
<p>A fixed point of <span class="math inline">f : A \to A</span> is a
point <span class="math inline">x</span> such that <span
class="math inline">f(x) = x</span>. Also called fixpoint.</p>
<p>For a poset <span class="math inline">(A, \le)</span> and a monotonic
function <span class="math inline">f : A \to A</span>, we define the set
of fixpoints <span class="math inline">S = \{x : f(x) = x\}</span>. If
<span class="math inline">S</span> has a least element then it is called
the least fixpoint. If <span class="math inline">S</span> has a greatest
element then it is called the greatest fixpoint.</p>
<ul>
<li><span class="math inline">Post = \{x : f(x) \le x\}</span> set of
postfix points of <span class="math inline">f</span></li>
<li><span class="math inline">Pre = \{x : x \le f(x)\}</span> set of
prefix points of <span class="math inline">f</span></li>
<li><span class="math inline">Fix = \{x : f(x) = x\}</span> set of fix
points of <span class="math inline">f</span></li>
</ul>
<h3 data-number="1.3.1" id="tarski-fixed-point-theorem"><span
class="header-section-number">1.3.1</span> Tarski fixed point
theorem</h3>
<p><span class="math inline">\sqcap Post</span> is the least element of
<span class="math inline">Fix</span>. <span class="math inline">\sqcup
Pre</span> is the greatest element of <span
class="math inline">Fix</span>. So complete lattices have fixpoints.</p>
<p><span class="math display">
\begin{aligned}
    a_0 &amp;= \bot \\
    a_{n+1} &amp;= f(a_n) \\
\end{aligned}
</span></p>
<p>then <span class="math inline">a_* = \bigsqcup_{n \le 0} a_n</span>.
<span class="math inline">a_*</span> is a prefix point.</p>
<h2 data-number="1.4" id="omega-continuity"><span
class="header-section-number">1.4</span> <span
class="math inline">\omega</span>-continuity</h2>
<p>A function <span class="math inline">G</span> is <span
class="math inline">\omega</span>-continuous if for every chain <span
class="math inline">x_0 \sqsubseteq x_1 \sqsubseteq \cdots \sqsubseteq
x_n \sqsubseteq \cdots</span></p>
<p><span class="math display">
G(\bigsqcup_{i \ge 0} x_i) = \bigsqcup_{i \ge 0} G(x_i)
</span></p>
<p>For an <span class="math inline">\omega</span>-continuous function
<span class="math inline">G</span>, <span class="math inline">a_*</span>
is the least fixpoint of <span class="math inline">G</span>.</p>
<h2 data-number="1.5" id="galois-connection"><span
class="header-section-number">1.5</span> galois connection</h2>
<p><span class="math inline">\alpha : C \to A</span> and <span
class="math inline">\gamma : A \to C</span> between partial orders are a
Galois connection such that</p>
<p><span class="math display">
\forall_{c,a} \alpha(c) \sqsubseteq a \iff c \le \gamma(a)
</span></p>
<p>Equivalently it is a Galois connection iff <span
class="math inline">c \le \gamma(\alpha(c))</span> and <span
class="math inline">\alpha(\gamma(a)) \sqsubseteq a</span></p>
<h2 data-number="1.6" id="abstract-interpretation-1"><span
class="header-section-number">1.6</span> abstract interpretation</h2>
<p>Given a CFG <span class="math inline">(V, E, r)</span> where</p>
<ul>
<li><span class="math inline">V = \{v_1, \cdots, v_n\}</span> is the set
of program points (vertices)</li>
<li><span class="math inline">E \subseteq V \times V</span> are
control-flow graph edges (edges)</li>
<li><span class="math inline">r : E \to 2^{S \times S}</span> so that
each <span class="math inline">r(v, v&#39;) \subseteq S \times S</span>
is relation describing the meaning of command between <span
class="math inline">v</span> and <span
class="math inline">v&#39;</span></li>
</ul>
<p>Steps:</p>
<ol type="1">
<li>design abstract domain <span class="math inline">A</span> that
represents sets of program states</li>
<li>define the concretization function <span class="math inline">\gamma
: A \to C</span></li>
<li>define lattice ordering <span class="math inline">\sqsubseteq</span>
on <span class="math inline">A</span> such that <span
class="math inline">a_1 \sqsubseteq a_2 \implies \gamma(a_1) \subseteq
\gamma(a_2)</span></li>
<li>define <span class="math inline">sp^\# : A \times 2^{S \times S} \to
A</span> that maps an abstract element and a CFG statement to a new
abstract element such that <span class="math inline">sp(\gamma(a), r)
\subseteq \gamma(sp^\#(a, r))</span>. For example by defining an
abstraction function <span class="math inline">\alpha</span> such that
<span class="math inline">(\alpha, \gamma)</span> becomes a Galois
connection. Then <span class="math inline">sp^\#(a, r) =
\alpha(sp(\gamma(a), r))</span></li>
</ol>
</body>
</html>
